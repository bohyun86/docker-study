
### 애플리케이션 배포

먼저, 애플리케이션을 배포하는 기본 명령어는 다음과 같습니다:

```bash
docker compose up -d
```

위 명령어는 `compose.yaml` 파일을 읽어 `counter-vol`이라는 볼륨을 생성하고 `web-fe` 컨테이너에 `/code` 경로로 마운트합니다. 이렇게 볼륨을 마운트하면, 컨테이너 내부 `/code` 경로의 데이터가 볼륨을 통해 호스트와 연결됩니다.

---

### 볼륨을 통한 애플리케이션 업데이트

1. **볼륨 정보 확인**: `docker volume inspect` 명령어로 볼륨이 호스트의 파일 시스템에서 어느 경로에 노출되어 있는지 확인할 수 있습니다. 예를 들어, `counter-vol` 볼륨의 위치를 확인하려면 다음 명령어를 사용합니다:

   ```bash
   docker volume inspect counter-vol
   ```

   출력 결과에서 `"Mountpoint"` 필드는 Docker 호스트에서 이 볼륨이 노출된 실제 디렉토리 경로를 나타냅니다. 이 경로를 통해 호스트의 볼륨 데이터를 직접 수정할 수 있습니다.

2. **코드 업데이트**: Docker 호스트의 프로젝트 작업 디렉토리에 있는 `app.py` 파일을 수정합니다. 예를 들어, `vim` 에디터를 사용해 `app.py` 파일에서 22번째 줄의 텍스트를 원하는 문구로 변경할 수 있습니다.

   ```bash
   vim app.py
   ```

   `return "What's up..."` 부분의 텍스트를 변경한 후 저장합니다.

3. **변경된 파일을 볼륨에 복사**: 이제 업데이트된 `app.py` 파일을 Docker 호스트의 볼륨 경로에 복사합니다. 이 작업을 수행하면 볼륨을 통해 컨테이너 내부 `/code` 경로에 즉시 반영됩니다.

   ```bash
   cp app.py <볼륨 마운트 경로>/app.py
   ```

   이 명령은 컨테이너 내의 `/code/app.py` 파일을 덮어쓰므로, 애플리케이션 코드가 즉시 업데이트됩니다.

---

### 변경 사항 확인

애플리케이션이 배포된 Docker 호스트의 IP 주소와 포트 5000으로 웹 브라우저에서 접속하여 변경 사항을 확인합니다. 예를 들어, `localhost:5000` 또는 Docker 호스트의 IP 주소로 접속하면, 변경된 텍스트가 반영된 웹 페이지를 확인할 수 있습니다.

> **주의**: 실제 운영 환경에서는 이렇게 볼륨을 통해 코드를 직접 수정하는 방식은 사용하지 않는 것이 좋습니다. 그러나 개발 중에는 빠르게 변경 사항을 테스트하고 반영하는 데 유용한 방법입니다.

---
